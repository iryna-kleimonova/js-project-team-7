import{S as y,N as p,P as g,a as m}from"./assets/vendor-Cj1XzFCq.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const i={burger:document.querySelector(".js-burger"),closeBtn:document.querySelector(".js-close"),navList:document.querySelector(".js-nav-list"),navLinks:document.querySelectorAll(".nav-button"),header:document.querySelector(".header"),heroSection:document.querySelector(".js-hero"),getStartedBtn:document.querySelector(".js-hero-button"),artistCardsContainer:document.querySelector(".js-artist-list"),artistCards:document.querySelectorAll(".js-artist-card"),loadMoreBtn:document.querySelector(".load-more-btn"),modal:document.querySelector(".js-modal"),modalCloseBtn:document.querySelector(".js-modal-close"),modalContent:document.querySelector(".js-modal-content"),modalFilters:document.querySelector(".js-modal-filters"),aboutSection:document.querySelector(".js-about"),aboutImage:document.querySelector(".js-about-image"),aboutText:document.querySelector(".js-about-text"),testimonialsSection:document.querySelector(".js-testimonials"),testimonialsSlider:document.querySelector(".js-testimonials-slider"),testimonialPrevBtn:document.querySelector(".js-testimonials-btn-prev"),testimonialNextBtn:document.querySelector(".js-testimonials-btn-next"),footer:document.querySelector(".js-footer")},b=new y(".feedback-swiper",{modules:[p,g],slidesPerView:1,spaceBetween:3,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:1},1024:{slidesPerView:1}}});m.defaults.baseURL="https://sound-wave.b.goit.study/api/";async function h(){try{const{data:e}=await m.get("/feedbacks?limit=3&page=1"),r=e.data;console.log("Отримані фідбеки:",r);const n=document.getElementById("feedbacks-container");n.innerHTML="",r.forEach((s,t)=>{const o=document.createElement("div");o.classList.add("swiper-slide");const a=`raty-${t}`;o.innerHTML=`
        <div class="feedback-card">
          <div class="rating-star" id="${a}"></div>
          <p class="feedback-text">"${s.descr}"</p>
          <p class="author-name">${s.name}</p>
        </div>
      `,n.appendChild(o),v(`#${a}`,s.rating)}),b.update()}catch(e){console.error("Error fetching feedbacks:",e)}}function S(e){return e%1===.5?e:Math.round(e)}function v(e,r){$(e).raty({readOnly:!0,score:S(r),half:!0,starOn:"/images/star-on.svg",starOff:"/images/star-off.svg",starHalf:"/images/star-half.svg"})}h();const q=document.querySelector(".js-burger"),w=document.querySelector(".js-close"),l=document.querySelector(".js-nav-list"),j=document.querySelectorAll(".nav-button"),L=document.querySelector(".header");q.addEventListener("click",()=>{l.classList.add("is-open")});w.addEventListener("click",()=>{l.classList.remove("is-open")});j.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();const n=e.getAttribute("href").substring(1),s=document.getElementById(n);if(s){const t=L.offsetHeight,o=s.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:o,behavior:"smooth"}),l.classList.remove("is-open")}})});let c=1;const d=8;let u=null;async function f(){try{const e=await fetchArtists(c,d);renderArtists(e),u=Math.ceil(e.total/d),c>=u&&(i.loadMoreBtn.style.display="none")}catch(e){console.error("Failed to load artists:",e)}}i.loadMoreBtn.addEventListener("click",()=>{c++,f().catch(e=>{console.error("Failed to load more artists:",e)})});i.artistCardsContainer.addEventListener("click",async e=>{var t;const r=e.target.closest(".artist-card-btn");if(!r)return;const n=r.closest(".artist-card"),s=(t=n==null?void 0:n.dataset)==null?void 0:t.id;if(!s){console.warn("ID не знайдено для картки артиста");return}try{const o=await fetchArtistById(s),a=await fetchArtistsAlbumsById(s);console.log("Дані для модального вікна:",o,a),openArtistModal({artist:o,albums:a})}catch(o){console.error("Failed to open artist modal:",o)}});f();
//# sourceMappingURL=index.js.map
