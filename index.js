import{S as p,N as y,P as g,a as m}from"./assets/vendor-CD5jJkp3.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const i={burger:document.querySelector(".js-burger"),closeBtn:document.querySelector(".js-close"),navList:document.querySelector(".js-nav-list"),navLinks:document.querySelectorAll(".nav-button"),header:document.querySelector(".header"),heroSection:document.querySelector(".js-hero"),getStartedBtn:document.querySelector(".js-hero-button"),artistCardsContainer:document.querySelector(".js-artist-list"),artistCards:document.querySelectorAll(".js-artist-card"),loadMoreBtn:document.querySelector(".load-more-btn"),modal:document.querySelector(".js-modal"),modalCloseBtn:document.querySelector(".js-modal-close"),modalContent:document.querySelector(".js-modal-content"),modalFilters:document.querySelector(".js-modal-filters"),aboutSection:document.querySelector(".js-about"),aboutImage:document.querySelector(".js-about-image"),aboutText:document.querySelector(".js-about-text"),testimonialsSection:document.querySelector(".js-testimonials"),testimonialsSlider:document.querySelector(".js-testimonials-slider"),testimonialPrevBtn:document.querySelector(".js-testimonials-btn-prev"),testimonialNextBtn:document.querySelector(".js-testimonials-btn-next"),footer:document.querySelector(".js-footer")},b=new p(".feedback-swiper",{modules:[y,g],slidesPerView:1,spaceBetween:3,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:1},1024:{slidesPerView:1}}});m.defaults.baseURL="https://sound-wave.b.goit.study/api/";async function h(){try{const r=(await m.get("/feedbacks?limit=3&page=1")).data.data,s=document.getElementById("feedbacks-container");if(s.innerHTML="",!Array.isArray(r))return;r.forEach(n=>{const e=document.createElement("div");e.classList.add("swiper-slide");const t=Math.round(n.rating);e.innerHTML=`
          <div class="feedback-card">
            <div class="rating" data-stars="${t}"></div>
            <p class="feedback-text">"${n.descr}"</p>
            <p class="author-name">${n.name}</p>
          </div>
        `;const a=S(t);e.querySelector(".rating").appendChild(a),s.appendChild(e)}),v(),b.update()}catch(o){console.error("Error receving feedback:",o)}}function S(o){const r=document.createElement("select");r.classList.add("rating","rating--sm"),r.setAttribute("data-readonly","");for(let s=1;s<=5;s++){const n=document.createElement("option");n.value=s,n.textContent=s,s===o&&(n.selected=!0),r.appendChild(n)}return r}function v(){document.querySelectorAll(".rating").forEach(r=>{const s=+r.dataset.stars||0;r.classList.add("rating","rating--read-only","rating--md"),r.setAttribute("data-rating",s)})}h();const q=document.querySelector(".js-burger"),w=document.querySelector(".js-close"),l=document.querySelector(".js-nav-list"),L=document.querySelectorAll(".nav-button"),j=document.querySelector(".header");q.addEventListener("click",()=>{l.classList.add("is-open")});w.addEventListener("click",()=>{l.classList.remove("is-open")});L.forEach(o=>{o.addEventListener("click",r=>{r.preventDefault();const s=o.getAttribute("href").substring(1),n=document.getElementById(s);if(n){const e=j.offsetHeight,t=n.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:t,behavior:"smooth"}),l.classList.remove("is-open")}})});let c=1;const d=8;let u=null;async function f(){try{const o=await fetchArtists(c,d);renderArtists(o),u=Math.ceil(o.total/d),c>=u&&(i.loadMoreBtn.style.display="none")}catch(o){console.error("Failed to load artists:",o)}}i.loadMoreBtn.addEventListener("click",()=>{c++,f().catch(o=>{console.error("Failed to load more artists:",o)})});i.artistCardsContainer.addEventListener("click",async o=>{var e;const r=o.target.closest(".artist-card-btn");if(!r)return;const s=r.closest(".artist-card"),n=(e=s==null?void 0:s.dataset)==null?void 0:e.id;if(!n){console.warn("ID не знайдено для картки артиста");return}try{const t=await fetchArtistById(n),a=await fetchArtistsAlbumsById(n);console.log("Дані для модального вікна:",t,a),openArtistModal({artist:t,albums:a})}catch(t){console.error("Failed to open artist modal:",t)}});f();
//# sourceMappingURL=index.js.map
